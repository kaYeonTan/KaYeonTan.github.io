---
title:  "Unity Chapter 2."
excerpt: "유니티 화면 구성과 기본 조작 습득하기 `2-4` `2-5`"

categories:
  - unity1
tags:
  - [Unity, Game Engine]

toc: true
toc_sticky: true
 
date: 2022-08-13
last_modified_at: 2022-08-13
---
--- 
<span style="background-color:#E2A63B">요시야 마키토가 지은 **유니티 5로 만드는 3D/2D 스마트폰 게임 개발**을 보고 정리한 내용이다.</span>  
 
  
#### Chapter 2-4. 색상과 질감 부여하기    
---
 
> **셰이더와 머티리얼**

`머티리얼` 오브젝트 표면의 색이나, 모양, 질감의 데이터를 보유하고 있는 것.
`셰이더` 머티리얼의 외관의 계산을 담당.
 
 
 
> **물리 기반 셰이더**  

`물리 기반 셰이더` 셰이더 중에서도 물리적 현상을 충실히 시뮬레이트 하도록 구현된 셰이더를 말한다. 이 시뮬레이션을 위한 계산을 다른 셰이더보다 부하가 걸리지만, GPU의 성능 향상으로 유니티5에서 도입되었다.  
 
다른 셰이더와 달리 '얼마나 표면이 매끄러운 가'와 같이 실제 물리적인 성질을 지정할 수 있다. 이에 따라 빛의 동작과 가까운 계산이 이루어져 한 종류의 셰이더만으로도 천, 돌, 금속 등 다양한 물체를 여러 조건으로 더욱 현실감 있게 표현할 수 있다.  
 


> **머티리얼을 설정하여 색상 바꾸기**  

![일러스트](https://user-images.githubusercontent.com/106606698/184494513-4b267544-2a39-472b-bceb-1f2c8c34f90b.png)

**머티리얼 공유**  
여러 오브젝트에 하나의 같은 머티리얼을 설정하면 이러한 오브젝트는 머티리얼을 공유하고 있는 상태가 된다. 즉, 머티리얼의 파라미터를 변경하면 그 머티리얼을 설정하고 있는 모든 오브젝트의 외관이 변경된다.  
 


> **머티리얼의 질감 변화시키기**  

머리티얼에서는 색상을 설정하는 Albedo 외에도 몇 가지 설정 항목이 있다. 
`Metallic` 얼마나 금속과 같은지를 나타내는 파라미터로 값이 크면 더 금속처럼 보인다. 반대로 값이 작을 수록 흙이나 돌처럼 보인다. 
`Smoothness`는 표면의 부드러움, 즉 얼마나 반들반들한지를 나타낸다.  
 
![일러스트](https://user-images.githubusercontent.com/106606698/184495288-7ba81b5a-0b26-4d89-b406-d9b773d9badb.png)  

**주위 배경을 반사하는 머티리얼 만들기**  
 
새로운 머티리얼 생성 후, 색상은 흰색으로 Metalic과 Smoothnees의 값을 1로 설정해준다.  

![일러스트](https://user-images.githubusercontent.com/106606698/184496047-279591b0-af88-4453-aaa3-a755487a545b.png)  
 
1. Hierarchy에서 Reflaction Probe 생성 한다.  
2. 그림처럼 반사할 범위를 지정해준다.  
3. 다음 생성한 Reflaction Probe를 반사시킬 오브젝트의 자식화를 해준다.
4. Reflaction Probe의 static에 Reflaction Probe Static을 체크해준다.
5. Reflaction Probe의 **Type**을 `Realtime`으로 **Refresh Mode**를 `Every frame`으로 **Time Slicing**을 `No time slicing`으로 바꿔주면 5번 그림처럼 캡슐이 주변 오브젝틀 반사하게 된다.  

다만 검은 캡슐 모양도 같이 반사되는데 이를 제거하기 위해선 아래의 그림처럼 레이어를 새로 만들고 레이어를 변경해준 뒤, Reflaction Probe의 Culling Mask의 Culling 체크를 해제해주면 된다.  
 
![일러스트１](https://user-images.githubusercontent.com/106606698/184496052-6c6b9673-4c91-4f4c-95c0-9ae8e4044bbc.png)  
 
 
 
#### Chapter 2-5. 글로벌 일루미네이션(GI) 체감하기   
--- 

`Lighting(라이팅)` 물체를 빛으로 비추는 처리  
지금 까지 만들어온 씬에선 Directional Light와 같은 기본적인 라이팅 기능에 의해 오브젝트가 비춰지고 있었다.  
 
이 외에도 **Enlighthen**이라는 미들웨어를 통해 *실시간 글로벌 일루미네이션(Realtime GI)*을 사용할 수 있다.(공간 전체를 고려하여 라이팅 하는 기법)  
 


> **고전적인 라이팅 기법**  
 
GI를 사용하지 않는 라이팅 기법에는 *직접 조명(Directional Light)*과 *주변 조명(Ambient Light)*가 있다. (광원으로부터의 일차적인 작용이 계산될 뿐 반사 등 오브젝트가 반사하는 빛을 고려되지 않는다.)  
 
`직접 조명` 라이트 등의 광원으로부터 방출되는 빛, 빛이 닿는 오브젝트의 표면 부분을 비춘다.  
`주변 조명` 오브젝트 기반에 대해 밝기를 결정하는 파라미터. 직접 조명이 닿지 않는 부분도 포함한 모든 장소에 약간의 밝기를 일률적으로 제공한다.  
 


> **GI에 의한 라이팅 기법**  
 
직접 조명뿐만 아니라 비추어지고 있는 면에서 반사된 **간접 조명**도 고려하여 라이팅을 실시하는 기술이다. 
간접 조명은 현실 세계에 가까운 사실감 있는 그래픽 실현에 필요하다.  
 


>**GI 확인의 사전 준비 : 벽과 천장의 작성**  
 
기존에 만들었던 Stage에 벽과 천장을 만들고 벽이 없는 부분으로 빛이 비치도록 방향을 설정해준다.  

![화면 캡처 2022-08-13 224747](https://user-images.githubusercontent.com/106606698/184496997-4b703422-be76-4cce-b729-595762496db0.png)
  
 

> **GI 확인의 연습 : 간접 조명의 반영**  
 
지금 내가 하고 있는 유니티에는 주변 조명을 끄는 방법을 알지 못해서 예제를 실습하지 못했다..  
책의 내용은 주변 조명을 끄면 직접 조명이 닿지 않는 부분은 까맣게 되어 아예 보이지 않게 된다.(이전 단계에선 안쪽은 주변 조명에 의해 밝게 된 것.)  
간접 조명을 사용하면 원래 보이지 않았던 오브젝트들이 약간 밝아져 보이게 된다.  
책에서는 간접 조명은 정적 오브젝트에만 유효하다고 나와있다.  
Enlghten은 빛이 반사된 후의 단순한 렌더링 결과가 아니라 어느 부분이 어떻게 빛을 확산하는지 데이터를 미리 계산하는 것이다.  
그렇게 때문에 빛에 의해 비치고 있는 부분의 색상은 재생 시 실시간으로 계산되는 것이다. 따라서 게임을 진행하는 동안 광원을 움직여도 간접 조명을 제대로 표현할 수 있다.  
~~GI 부분은 유니티 문서를 통해 자세히 공부해야겠다~~
