---
title:  "Lesson 5 클래스"
excerpt: "5.1 클래스의 설계"

categories:
  - csharp
tags:
  - [Csharp, C#]

toc: true
toc_sticky: true
 
date: 2022-10-26
last_modified_at: 2022-10-27
---

#### 5.1 클래스의 설계  
---
<br>
<br>

##### 클래스를 되돌아 본다  

<br>
<br>

##### 클래스  

**어느 특정 사물의 상태나 기능에 주목해서 합친 것**  

예를 들어 윈도를 나타내는 폼 클래스에서는 윈도 타이틀 등의 상태, 이미지를 읽어 들이는 픽처 박스 클래스에서는 이미지의 읽어 들이는 기능을 제공한다. 이러한 클래스는 윈도나 픽처 박스와 같은 사물에 관해 주목하여 그 상태나 기능을 합친 모형으로 되어있다.  
이러한 클래스로부터 오브젝트를 작성하고, 실제 윈도나 픽처박스를 이용할 수 있는 것이다.  

✨ 클래스와 오브젝트 - 상태, 기능을 합친 클래스로부터 실제 오브젝트를 작성할 수 있다.  

<br>
<br>

##### 클래스를 설계한다    

클래스의 내용에 대해서 정리하고 코드를 기술하는 것을 **클래스를 정의한다(definition)**라고 하낟.  

자동차 캐릭터의 경우에는 다음과 같은 상태와 기능을 생각해 볼 수 있다.  

- 상태 : 자동차의 이미지, 위치  

- 기능 : 자동차가 움직인다.  

> 클래스의 정의

```cs
class 클래스명
{
    형명 변수명;

    반환값의 형 메서드명(인수 목록)
    {
        구문;
        . . .
        return 식;
    }
    . . .
}
```

클래스의 정의는 **class**에 이어서 클래스 명을 기술하고, 그 다음의 블록 안에 상태나 기능을 합친다.  
**필드**로 값형이나 참조형의 변수를 선언할 수 있다.  

또한, 클래스의 기능을 나타내기 위해서 **메서드(method)** 를 사용한다. 이것은 블록으로 감싸서 처리를 차례대로 기술하는 것이다.  
클래스 내에서 기술하는 필드, 메서드는 클래스의 **멤버(member)** 라고 부른다.  

```cs
class Car
{
    int top;    //┐ 
    int left;   //┘ 필드

    void move() //메서드의 정의  
    {
        . . .
    }
}
```

<br>
<br>

##### 클래스를 정의한다.  

```cs
class Car
{
    public Image img;
    public int top;
    public int left;
    public Car()
    {
        img = Image.FromFile("C:\\Users\\수완\\car.bmp");
        top = 0;
        left = 0;
    }
    public void Move()
    {
        top = top + 10;
        left = left + 10;
    }
}
```

자동차의 이미지를 나타내는 img, top과 left를 필드로 정의한다.  
Move 메서드는 top과 left를 10씩 이동시킨다.  

클래스 안에서는 오브젝트를 작성할 때 초기화를 시행하는 틀별한 메서드를 기술할 수도 있다.  이를 `컨스트럭터(생성자, Constructor)`라고 한다. 컨스트럭터에는 오브젝트의 초기화를 시행할 때 필요한 처리를 기술해 둔다. 여기에서 이미지를 읽어들이고, 위치를 0으로 설정하는 처리를 시행한다. 컨스트럭터는 클래스 명과 동일한 이름을 사용하도록 정해져 있다.  

**컨스트럭터 정의**  

```cs
컨스트럭터명(인수 목록)
{
    . . .
}
```

<br>
<br>

##### 오브젝트를 작성한다  

클래스를 정의했으면 오브젝트를 작성할 수 있다.  

오브젝트의 작성 방법은 다음과 같다.

```cs
Car c = new Car();
```

오브젝트를 작성했다면 필드, 메서드를 다음과 같이 이용할 수 있다.  
오브젝트명에 피리오드(`.`)를 이어서 멤버명을 지정한다. 지금까지 프로퍼티를 사용했는데, 이는 프로퍼티를 사용하는 것과 같다.  

```cs
c.top
c.left
c.Move()
```

```cs
using System.Windows.Forms;
using System.Drawing;

class Car
{
    public Image img;
    public int top;
    public int left;
    public Car()
    {
        img = Image.FromFile("C:\\Users\\수완\\car.bmp");
        top = 0;
        left = 0;
    }
    public void Move()
    {
        top = top + 10;
        left = left + 10;
    }
}

class Sample1
{
    public static void Main()
    {
        Form fm = new Form();
        fm.Text = "샘플";
        fm.Width = 300; fm.Height = 200;

        PictureBox pb = new PictureBox();

        Car c = new Car();
        //메서드를 호출한다.
        c.Move();
        c.Move();
        //필드를 이용해 픽처박스를 설정한다.
        pb.Image = c.img;
        pb.Top = c.top;
        pb.Left = c.left;

        pb.Parent = fm;

        Application.Run(fm);
    }
}
```

![image](https://user-images.githubusercontent.com/106606698/197913144-720500d9-7464-40e6-b5dd-7f1575ea2a60.png)  

오브젝트를 이용한다는 것은 **클래스로 합쳐 둔 기능이 그때마다 호출되어 처리된다**는 것이다.  

<br>
<br>

#####  인수의 구조를 안다  

**메서드의 처리에 있어서 메서드를 호출하는 측(오브젝트를 이용하는 측)과 정보를 주고받을 수 있다.**  
메서드가 호출될 때 호출하는 측으로부터 전달되는 정보를 `인수(argument)`라고 한다.  

```cs
반환값의 형 메서드명(인수목록)
{
    구문;
    . . .
    return 식;
}
```

메서드에서 인수를 사용하는 경우는 메서드에서 정의할 때에 형과 변수명을 콤마로 구분해 표시해 둔다. 이 변수를 `가인수(parameter)`라고 한다.  

```cs
class Calc
{
    public int Add(int x, int y)
    {
        int sum = x + y;
        . . .
    }
}
```

Calc 클래스의 Add 메서드는 인자 2개를 전달하는 메서드이다.  
이 클래스를 이용하는 측에서는 메서드를 호출할 때 다음과 같이 () 내의 콤마로 구분해실제 인수를 전달한다.  

```cs
Calc c = new Calc();
int a = c.Add(2,3);
```

그러면 2가 x에 3이 y에 전달되어 메서드 내부의 처리에 사용된다. 즉 2+3의 계산이 이루어지는데, 이때 실제로 전달되는 값을 `실인수(argument)`라고 한다.  

<br>
<br>

#####  반환값의 구조를 안다  

호출하는 측에 돌려주는 정보를 `반환값(return value)`라고 한다. 메서드를 정의할 때 형을 지정해 두고 전달하고 싶은 값을 처리의 마지막에 return문을 사용해 돌려준다.  

```cs
반환값 메서드명(인수목록)
{
    구문;
    . . .
    return 식;
}
```

Calc의 Add() 메서드 처럼 계산 결과를 반환값으로 돌려주는 메서드를 정의할 수 있다.  

```cs
class Calc
{
    public int Add(int x, int y)
    {
        int sum = x + y;
        return sum;
    }
}
```

여기에서는 2 + 3의 처리 결과인 5가 변수 a에 대입된다.  

```cs
Calc c = new Calc();
int a = c.Add(2,3);
```  

✨ 인수를 사용해서 메서드에 정보를 전달할 수 있다.  
✨ 반환값을 사용해 메서드로부터 정보를 돌려줄 수 있다.  

<br>
<br>

#####  인수와 반환값에 주의한다  

메서드에서 인수는 여러 개ㄹ르 정의할 수 있지만, 반환값은 하나밖에 돌려줄 수 없다.  

메서드의 인수와 반환값을 반드시 정의해야하는 것은 아니다. Move() 메서드는 인수와 반환값을 갖고 있지 않은데 이 경우, 반환값의 형은 void로 하고 인수의 형은 지정하지 않는다.  

생성자(컨스트럭터)에도 인수를 정의할 수 있다. 다만 생성자는 오브젝트로의 참조를 돌려주므로 자신이 반환값을 정의할 수 없다. 

<br>
<br> 

---
**로컬변수 (지역변수)**   

클래스 내부의 메서드 밖에서 선언한 변수를 필드라고 한다. 메서드 내부에서 선언되는 변수를 `로컬 변수(local variable)` 이라고 한다.  
로컬 변수는 메서드 내에서만 사용할 수 있으며 메서드가 종료되기 전까지만 존재한다. 

---